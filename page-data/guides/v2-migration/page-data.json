{
    "componentChunkName": "component---src-pages-guides-v-2-migration-mdx",
    "path": "/guides/v2-migration/",
    "result": {"pageContext":{"frontmatter":{"title":"V2.0 Migration","description":"Guide for migrating to v2.0 of the theme"},"relativePagePath":"/guides/v2-migration.mdx","titleType":"page","MdxNode":{"id":"09cb747e-a931-59d3-865d-124d62388066","children":[],"parent":"3a8a8ca7-c9df-5adb-b414-7df0c2ff46df","internal":{"content":"---\r\ntitle: V2.0 Migration\r\ndescription: Guide for migrating to v2.0 of the theme\r\n---\r\n\r\n<PageDescription>\r\n\r\nEarlier this year, Gatsby released `v3` of their library. This update introduces\r\nseveral big improvements to Gatsby sites including incremental builds, fast\r\nrefresh, and image processing. The major version change comes with the potential\r\nfor breaking changes, this guide aims to cover the most likely issues a site\r\nbuilt with the Carbon Gatsby theme might encounter.\r\n\r\n</PageDescription>\r\n\r\n## Breaking Changes\r\n\r\n1. Bumped minimum version of Gatsby to `v3`\r\n2. Removed the `emotion` theme provider and its dependenices.\r\n   - This impacts sites styling their project using `emotion` and depending on\r\n     theme values supplied by the theme\r\n   - If this applies to your project, you can recreate the theme's emotion\r\n     integration installing `emotion` and replicating the\r\n     [`ThemeProvider`](https://github.com/carbon-design-system/gatsby-theme-carbon/blob/857abf691590d86b9384a8f35256e8f54fad299e/packages/gatsby-theme-carbon/src/components/ThemeProvider.js)\r\n     component and\r\n     [`theme.js`](https://github.com/carbon-design-system/gatsby-theme-carbon/blob/main/packages/gatsby-theme-carbon/src/util/theme.js).\r\n     Finally, you'll want to shadow\r\n     [`wrap-root-element.js`](https://github.com/carbon-design-system/gatsby-theme-carbon/blob/857abf691590d86b9384a8f35256e8f54fad299e/packages/gatsby-theme-carbon/src/util/wrap-root-element.js#L1)\r\n     to add back the `ThemeProvider` wrapper.\r\n\r\n## Migration guide\r\n\r\nIn this section we'll cover the most likely issues site's built with the Carbon\r\ngatsby theme might encounter when migrating. If you encounter any issues, or\r\nyour site leverages more advanced gatsby configuration, check to see if it's\r\ncovered in the\r\n[official Gatsby v3 migration guide](https://www.gatsbyjs.com/docs/reference/release-notes/migrating-from-v2-to-v3/).\r\n\r\n<InlineNotification>\r\n\r\nNote: We'll use yarn for the shell commands here. Replace them with the `npm`\r\nequivalent if your project uses `npm` as its package manager.\r\n\r\n</InlineNotification>\r\n\r\n1. Update Gatsby\r\n   ```\r\n   yarn add gatsby@latest\r\n   ```\r\n2. Update gatsby plugins (including the theme)\r\n   ```\r\n   yarn upgrade-interactive --latest\r\n   ```\r\n3. Check to see if you're using `sizes` or `resolutions` with `gatsby-image`. Do\r\n   a project wide search for `gatsby-image`. Check to make sure that you're not\r\n   using these\r\n   [deprecated props](https://www.gatsbyjs.com/docs/reference/release-notes/migrating-from-v2-to-v3/#removal-of-sizes--resolutions-for-image-queries)\r\n4. Check your Sass (and potentially JSON) to ensure they're imported as ES\r\n   Modules. \"Default exports\" are no longer supported.\r\n\r\n   ```js path=Before\r\n   import styles from './MySpan.module.scss';\r\n   import metadata from './metadata.json';\r\n\r\n   const MySpan = () => <span className={styles.mySpan} />;\r\n   ```\r\n\r\n   ```js path=After\r\n   import { mySpan } from './MySpan.module.scss';\r\n   // Or import * as styles from './MySpan.module.scss'\r\n\r\n   import * as metadata from './metadata.json';\r\n\r\n   const MySpan = () => <span className={mySpan} />;\r\n   ```\r\n4. Make sure to update the path of your shadowed components (Footer and Header). \r\n   - Create a folder each for `Footer` and `Header`.\r\n   - Change the file name to `index.js` inside each corresponding folder. More info can be found in the [shadowing docs](https://gatsby-theme-carbon.vercel.app/guides/shadowing/#shadowing-basics)\r\n5. If you have a custom webpack config, be sure your config is compatible with [Webpack 5](https://webpack.js.org/migrate/5/) (the version Gatsby 3 uses)\r\n6. Run `npx gatsby clean` to delete your projects development bundle\r\n7. Run `yarn dev`\r\n\r\n## Troubleshooting\r\n\r\n- Try deleting your node_modules, running `yarn cache clean` and `yarn install`\r\n  (or `npm cache clean --force` and npm install)\r\n- Feel free to reach out in the #gatsby-theme-carbon slack channel or open an\r\n  issue on GitHub\r\n","type":"Mdx","contentDigest":"8874c4ae30741dc7b57d5c9b0861e1e1","owner":"gatsby-plugin-mdx","counter":353},"frontmatter":{"title":"V2.0 Migration","description":"Guide for migrating to v2.0 of the theme"},"exports":{},"rawBody":"---\r\ntitle: V2.0 Migration\r\ndescription: Guide for migrating to v2.0 of the theme\r\n---\r\n\r\n<PageDescription>\r\n\r\nEarlier this year, Gatsby released `v3` of their library. This update introduces\r\nseveral big improvements to Gatsby sites including incremental builds, fast\r\nrefresh, and image processing. The major version change comes with the potential\r\nfor breaking changes, this guide aims to cover the most likely issues a site\r\nbuilt with the Carbon Gatsby theme might encounter.\r\n\r\n</PageDescription>\r\n\r\n## Breaking Changes\r\n\r\n1. Bumped minimum version of Gatsby to `v3`\r\n2. Removed the `emotion` theme provider and its dependenices.\r\n   - This impacts sites styling their project using `emotion` and depending on\r\n     theme values supplied by the theme\r\n   - If this applies to your project, you can recreate the theme's emotion\r\n     integration installing `emotion` and replicating the\r\n     [`ThemeProvider`](https://github.com/carbon-design-system/gatsby-theme-carbon/blob/857abf691590d86b9384a8f35256e8f54fad299e/packages/gatsby-theme-carbon/src/components/ThemeProvider.js)\r\n     component and\r\n     [`theme.js`](https://github.com/carbon-design-system/gatsby-theme-carbon/blob/main/packages/gatsby-theme-carbon/src/util/theme.js).\r\n     Finally, you'll want to shadow\r\n     [`wrap-root-element.js`](https://github.com/carbon-design-system/gatsby-theme-carbon/blob/857abf691590d86b9384a8f35256e8f54fad299e/packages/gatsby-theme-carbon/src/util/wrap-root-element.js#L1)\r\n     to add back the `ThemeProvider` wrapper.\r\n\r\n## Migration guide\r\n\r\nIn this section we'll cover the most likely issues site's built with the Carbon\r\ngatsby theme might encounter when migrating. If you encounter any issues, or\r\nyour site leverages more advanced gatsby configuration, check to see if it's\r\ncovered in the\r\n[official Gatsby v3 migration guide](https://www.gatsbyjs.com/docs/reference/release-notes/migrating-from-v2-to-v3/).\r\n\r\n<InlineNotification>\r\n\r\nNote: We'll use yarn for the shell commands here. Replace them with the `npm`\r\nequivalent if your project uses `npm` as its package manager.\r\n\r\n</InlineNotification>\r\n\r\n1. Update Gatsby\r\n   ```\r\n   yarn add gatsby@latest\r\n   ```\r\n2. Update gatsby plugins (including the theme)\r\n   ```\r\n   yarn upgrade-interactive --latest\r\n   ```\r\n3. Check to see if you're using `sizes` or `resolutions` with `gatsby-image`. Do\r\n   a project wide search for `gatsby-image`. Check to make sure that you're not\r\n   using these\r\n   [deprecated props](https://www.gatsbyjs.com/docs/reference/release-notes/migrating-from-v2-to-v3/#removal-of-sizes--resolutions-for-image-queries)\r\n4. Check your Sass (and potentially JSON) to ensure they're imported as ES\r\n   Modules. \"Default exports\" are no longer supported.\r\n\r\n   ```js path=Before\r\n   import styles from './MySpan.module.scss';\r\n   import metadata from './metadata.json';\r\n\r\n   const MySpan = () => <span className={styles.mySpan} />;\r\n   ```\r\n\r\n   ```js path=After\r\n   import { mySpan } from './MySpan.module.scss';\r\n   // Or import * as styles from './MySpan.module.scss'\r\n\r\n   import * as metadata from './metadata.json';\r\n\r\n   const MySpan = () => <span className={mySpan} />;\r\n   ```\r\n4. Make sure to update the path of your shadowed components (Footer and Header). \r\n   - Create a folder each for `Footer` and `Header`.\r\n   - Change the file name to `index.js` inside each corresponding folder. More info can be found in the [shadowing docs](https://gatsby-theme-carbon.vercel.app/guides/shadowing/#shadowing-basics)\r\n5. If you have a custom webpack config, be sure your config is compatible with [Webpack 5](https://webpack.js.org/migrate/5/) (the version Gatsby 3 uses)\r\n6. Run `npx gatsby clean` to delete your projects development bundle\r\n7. Run `yarn dev`\r\n\r\n## Troubleshooting\r\n\r\n- Try deleting your node_modules, running `yarn cache clean` and `yarn install`\r\n  (or `npm cache clean --force` and npm install)\r\n- Feel free to reach out in the #gatsby-theme-carbon slack channel or open an\r\n  issue on GitHub\r\n","fileAbsolutePath":"C:/my-carbon-site/src/pages/guides/v2-migration.mdx"}}},
    "staticQueryHashes": ["1364590287","137577622","2102389209","2456312558","2746626797","3018647132","3037994772","768070550"]}